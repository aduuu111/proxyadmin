{
  "openapi": "3.1.0",
  "info": {
    "title": "ProxyAdminPanel",
    "description": "X-UI style proxy management system with BFF architecture",
    "version": "1.0.0"
  },
  "paths": {
    "/api/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Login",
        "description": "Admin login endpoint.\nReturns JWT token on successful authentication.",
        "operationId": "login_api_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/users": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get All Users",
        "description": "Get all proxy users.",
        "operationId": "get_all_users_api_users_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/UserResponse"
                  },
                  "type": "array",
                  "title": "Response Get All Users Api Users Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Create User",
        "description": "Create new proxy user.",
        "operationId": "create_user_api_users_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/users/{user_id}": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get User",
        "description": "Get user by ID.",
        "operationId": "get_user_api_users__user_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Users"
        ],
        "summary": "Update User",
        "description": "Update existing user.",
        "operationId": "update_user_api_users__user_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "summary": "Delete User",
        "description": "Delete user.",
        "operationId": "delete_user_api_users__user_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/{user_id}/reset-traffic": {
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Reset Traffic",
        "description": "Reset user traffic counters.",
        "operationId": "reset_traffic_api_users__user_id__reset_traffic_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/{user_id}/toggle": {
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Toggle Enable",
        "description": "Toggle user enable/disable status.",
        "operationId": "toggle_enable_api_users__user_id__toggle_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/{user_id}/renew": {
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Renew User",
        "description": "Renew user expiration time.",
        "operationId": "renew_user_api_users__user_id__renew_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          },
          {
            "name": "new_expire_time",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time",
              "title": "New Expire Time"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/outbounds": {
      "get": {
        "tags": [
          "Outbounds"
        ],
        "summary": "Get All Outbounds",
        "description": "Get all outbound configurations.",
        "operationId": "get_all_outbounds_api_outbounds_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/OutboundResponse"
                  },
                  "type": "array",
                  "title": "Response Get All Outbounds Api Outbounds Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Outbounds"
        ],
        "summary": "Create Outbound",
        "description": "Create new outbound configuration.",
        "operationId": "create_outbound_api_outbounds_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OutboundCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutboundResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/outbounds/{outbound_id}": {
      "get": {
        "tags": [
          "Outbounds"
        ],
        "summary": "Get Outbound",
        "description": "Get outbound by ID.",
        "operationId": "get_outbound_api_outbounds__outbound_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "outbound_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Outbound Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutboundResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Outbounds"
        ],
        "summary": "Update Outbound",
        "description": "Update existing outbound configuration.",
        "operationId": "update_outbound_api_outbounds__outbound_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "outbound_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Outbound Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OutboundUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutboundResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Outbounds"
        ],
        "summary": "Delete Outbound",
        "description": "Delete outbound configuration.",
        "operationId": "delete_outbound_api_outbounds__outbound_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "outbound_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Outbound Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/outbounds/scan": {
      "post": {
        "tags": [
          "Outbounds"
        ],
        "summary": "Scan Local Interfaces",
        "description": "One-click scan: Automatically create outbounds for all local network interfaces.\nThis is a key feature for quickly setting up direct outbounds.",
        "operationId": "scan_local_interfaces_api_outbounds_scan_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/rules": {
      "get": {
        "tags": [
          "Rules"
        ],
        "summary": "Get All Rules",
        "description": "Get all routing rules.",
        "operationId": "get_all_rules_api_rules_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/RuleResponse"
                  },
                  "type": "array",
                  "title": "Response Get All Rules Api Rules Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Rules"
        ],
        "summary": "Create Rule",
        "description": "Create new routing rule.",
        "operationId": "create_rule_api_rules_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RuleCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RuleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/rules/{rule_id}": {
      "get": {
        "tags": [
          "Rules"
        ],
        "summary": "Get Rule",
        "description": "Get rule by ID.",
        "operationId": "get_rule_api_rules__rule_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Rule Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RuleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Rules"
        ],
        "summary": "Update Rule",
        "description": "Update existing rule.",
        "operationId": "update_rule_api_rules__rule_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Rule Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RuleUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RuleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Rules"
        ],
        "summary": "Delete Rule",
        "description": "Delete rule.",
        "operationId": "delete_rule_api_rules__rule_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Rule Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/dashboard": {
      "get": {
        "tags": [
          "System"
        ],
        "summary": "Get Dashboard Stats",
        "description": "Get dashboard statistics.\nReturns CPU, memory, bandwidth, user counts, and system info.",
        "operationId": "get_dashboard_stats_api_system_dashboard_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardStats"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/system/backup": {
      "get": {
        "tags": [
          "System"
        ],
        "summary": "Backup Database",
        "description": "Download database backup.\nReturns the SQLite database file for download.",
        "operationId": "backup_database_api_system_backup_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/system/sync-traffic": {
      "post": {
        "tags": [
          "System"
        ],
        "summary": "Sync Traffic",
        "description": "Manually trigger traffic sync from Core Service.\nUpdates traffic statistics for all users.",
        "operationId": "sync_traffic_api_system_sync_traffic_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/system/check-expired": {
      "post": {
        "tags": [
          "System"
        ],
        "summary": "Check Expired Users",
        "description": "Manually check and disable expired users.",
        "operationId": "check_expired_users_api_system_check_expired_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/system/admin/profile": {
      "get": {
        "tags": [
          "System"
        ],
        "summary": "Get Admin Profile",
        "description": "Get current admin profile.",
        "operationId": "get_admin_profile_api_system_admin_profile_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "put": {
        "tags": [
          "System"
        ],
        "summary": "Update Admin Profile",
        "description": "Update admin profile (username, password, avatar).",
        "operationId": "update_admin_profile_api_system_admin_profile_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/core-config/current": {
      "get": {
        "tags": [
          "Core Configuration"
        ],
        "summary": "Get Core Config",
        "description": "Get current Core Service configuration.",
        "operationId": "get_core_config_api_core_config_current_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CoreConfigResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/core-config/update": {
      "post": {
        "tags": [
          "Core Configuration"
        ],
        "summary": "Update Core Config",
        "description": "Update Core Service configuration.\nUpdates the .env file with new settings.",
        "operationId": "update_core_config_api_core_config_update_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CoreConfigModel"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/core-config/test": {
      "post": {
        "tags": [
          "Core Configuration"
        ],
        "summary": "Test Core Connection",
        "description": "Test connection to Core Service.\nIf config is provided, test with those settings.\nOtherwise, test with current settings from .env.",
        "operationId": "test_core_connection_api_core_config_test_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/CoreConfigModel"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Config"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConnectionTestResult"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/game-inventory/": {
      "get": {
        "tags": [
          "game-inventory"
        ],
        "summary": "Get All Inventories",
        "description": "Get inventory for all games.\nShows available IPs for each game/rule.",
        "operationId": "get_all_inventories_api_game_inventory__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GameInventoryResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/game-inventory/{rule_id}": {
      "get": {
        "tags": [
          "game-inventory"
        ],
        "summary": "Get Game Inventory",
        "description": "Get inventory for a specific game/rule.",
        "operationId": "get_game_inventory_api_game_inventory__rule_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Rule Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GameInventory"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/game-inventory/outbound/{outbound_id}/usage": {
      "get": {
        "tags": [
          "game-inventory"
        ],
        "summary": "Get Outbound Usage",
        "description": "Get detailed usage information for a specific outbound/IP.\nShows which games are using this IP and how many users.",
        "operationId": "get_outbound_usage_api_game_inventory_outbound__outbound_id__usage_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "outbound_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Outbound Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/settings/": {
      "get": {
        "tags": [
          "settings"
        ],
        "summary": "Get System Settings",
        "description": "Get current system settings.",
        "operationId": "get_system_settings_api_settings__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemSettingsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "put": {
        "tags": [
          "settings"
        ],
        "summary": "Update System Settings",
        "description": "Update system settings.",
        "operationId": "update_system_settings_api_settings__put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SystemSettingsUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/settings/generate-credentials": {
      "post": {
        "tags": [
          "settings"
        ],
        "summary": "Generate Test Credentials",
        "description": "Test endpoint to generate username/password based on current patterns.\nFor shadowsocks (ss), returns an encryption method as username.\nFor socks5/http, generates username based on pattern.\n\nQuery parameter:\n- protocol: \"socks5\", \"http\", or \"ss\" (default: \"socks5\")",
        "operationId": "generate_test_credentials_api_settings_generate_credentials_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "protocol",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "socks5",
              "title": "Protocol"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/api-keys/": {
      "get": {
        "tags": [
          "API Keys"
        ],
        "summary": "List Api Keys",
        "description": "List all API keys.",
        "operationId": "list_api_keys_api_api_keys__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/APIKeyResponse"
                  },
                  "type": "array",
                  "title": "Response List Api Keys Api Api Keys  Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "API Keys"
        ],
        "summary": "Create Api Key",
        "description": "Create a new API key for external system integration.\nReturns the full API key - save it securely as it won't be shown again.",
        "operationId": "create_api_key_api_api_keys__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/APIKeyCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIKeyWithSecret"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/api-keys/{key_id}": {
      "get": {
        "tags": [
          "API Keys"
        ],
        "summary": "Get Api Key",
        "description": "Get API key by ID.",
        "operationId": "get_api_key_api_api_keys__key_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Key Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIKeyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "API Keys"
        ],
        "summary": "Delete Api Key",
        "description": "Delete an API key.",
        "operationId": "delete_api_key_api_api_keys__key_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Key Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/api-keys/{key_id}/toggle": {
      "post": {
        "tags": [
          "API Keys"
        ],
        "summary": "Toggle Api Key",
        "description": "Toggle API key active status.",
        "operationId": "toggle_api_key_api_api_keys__key_id__toggle_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Key Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIKeyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/external/users/provision": {
      "post": {
        "tags": [
          "External API"
        ],
        "summary": "Provision User",
        "description": "Provision a new user from external system (e.g., after payment).\nRequires API key with write permission.",
        "operationId": "provision_user_api_external_users_provision_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserProvisionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/api/external/users/{user_id}/renew": {
      "post": {
        "tags": [
          "External API"
        ],
        "summary": "Renew User",
        "description": "Renew a user's subscription (extend expiration and add traffic).\nRequires API key with write permission.",
        "operationId": "renew_user_api_external_users__user_id__renew_post",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserRenewalRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/external/users/batch": {
      "put": {
        "tags": [
          "External API"
        ],
        "summary": "Batch Update Users",
        "description": "Batch update multiple users.\nRequires API key with write permission.",
        "operationId": "batch_update_users_api_external_users_batch_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchUserUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchOperationResult"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      },
      "post": {
        "tags": [
          "External API"
        ],
        "summary": "Batch Create Users",
        "description": "Batch create multiple users.\nRequires API key with write permission.",
        "operationId": "batch_create_users_api_external_users_batch_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchUserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchOperationResult"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/api/external/users/{user_id}": {
      "get": {
        "tags": [
          "External API"
        ],
        "summary": "Get User External",
        "description": "Get user by ID (external API).\nRequires API key with read permission.",
        "operationId": "get_user_external_api_external_users__user_id__get",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/external/users/username/{username}": {
      "get": {
        "tags": [
          "External API"
        ],
        "summary": "Get User By Username",
        "description": "Get user by username (external API).\nRequires API key with read permission.",
        "operationId": "get_user_by_username_api_external_users_username__username__get",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Username"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/external/webhooks/payment": {
      "post": {
        "tags": [
          "External API"
        ],
        "summary": "Payment Webhook",
        "description": "Webhook endpoint for payment notifications.\nRequires API key with write permission.\n\nExpected events:\n- payment.success: Create or renew user\n- payment.refund: Disable user",
        "operationId": "payment_webhook_api_external_webhooks_payment_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookPayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/api/external/webhooks/user-event": {
      "post": {
        "tags": [
          "External API"
        ],
        "summary": "User Event Webhook",
        "description": "Webhook endpoint for user events from external systems.\nRequires API key with write permission.\n\nExpected events:\n- user.created: Notification that user was created\n- user.updated: Notification that user was updated\n- user.deleted: Notification that user was deleted",
        "operationId": "user_event_webhook_api_external_webhooks_user_event_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookPayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "description": "Root endpoint.",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Health check endpoint.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "APIKeyCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "can_read": {
            "type": "boolean",
            "title": "Can Read",
            "default": true
          },
          "can_write": {
            "type": "boolean",
            "title": "Can Write",
            "default": false
          },
          "can_delete": {
            "type": "boolean",
            "title": "Can Delete",
            "default": false
          },
          "rate_limit_per_minute": {
            "type": "integer",
            "maximum": 1000.0,
            "minimum": 1.0,
            "title": "Rate Limit Per Minute",
            "default": 60
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "APIKeyCreate"
      },
      "APIKeyResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "key_prefix": {
            "type": "string",
            "title": "Key Prefix"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "can_read": {
            "type": "boolean",
            "title": "Can Read"
          },
          "can_write": {
            "type": "boolean",
            "title": "Can Write"
          },
          "can_delete": {
            "type": "boolean",
            "title": "Can Delete"
          },
          "rate_limit_per_minute": {
            "type": "integer",
            "title": "Rate Limit Per Minute"
          },
          "last_used_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Used At"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "key_prefix",
          "is_active",
          "can_read",
          "can_write",
          "can_delete",
          "rate_limit_per_minute",
          "last_used_at",
          "expires_at",
          "created_at",
          "updated_at"
        ],
        "title": "APIKeyResponse"
      },
      "APIKeyWithSecret": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "key_prefix": {
            "type": "string",
            "title": "Key Prefix"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "can_read": {
            "type": "boolean",
            "title": "Can Read"
          },
          "can_write": {
            "type": "boolean",
            "title": "Can Write"
          },
          "can_delete": {
            "type": "boolean",
            "title": "Can Delete"
          },
          "rate_limit_per_minute": {
            "type": "integer",
            "title": "Rate Limit Per Minute"
          },
          "last_used_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Used At"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "api_key": {
            "type": "string",
            "title": "Api Key"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "key_prefix",
          "is_active",
          "can_read",
          "can_write",
          "can_delete",
          "rate_limit_per_minute",
          "last_used_at",
          "expires_at",
          "created_at",
          "updated_at",
          "api_key"
        ],
        "title": "APIKeyWithSecret",
        "description": "Response when creating a new API key - includes the full key"
      },
      "AdminResponse": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 3,
            "title": "Username"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "avatar": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "username",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "AdminResponse"
      },
      "AdminUpdate": {
        "properties": {
          "username": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50,
                "minLength": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Username"
          },
          "password": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 6
              },
              {
                "type": "null"
              }
            ],
            "title": "Password"
          },
          "avatar": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar"
          }
        },
        "type": "object",
        "title": "AdminUpdate"
      },
      "BatchOperationResult": {
        "properties": {
          "success_count": {
            "type": "integer",
            "title": "Success Count"
          },
          "failure_count": {
            "type": "integer",
            "title": "Failure Count"
          },
          "results": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Results"
          }
        },
        "type": "object",
        "required": [
          "success_count",
          "failure_count",
          "results"
        ],
        "title": "BatchOperationResult",
        "description": "Result of a batch operation"
      },
      "BatchUserCreate": {
        "properties": {
          "users": {
            "items": {
              "$ref": "#/components/schemas/UserCreate"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 1,
            "title": "Users"
          }
        },
        "type": "object",
        "required": [
          "users"
        ],
        "title": "BatchUserCreate",
        "description": "Batch create multiple users"
      },
      "BatchUserUpdate": {
        "properties": {
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "updates": {
            "$ref": "#/components/schemas/UserUpdate"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "updates"
        ],
        "title": "BatchUserUpdate",
        "description": "Batch update multiple users"
      },
      "BatchUserUpdateRequest": {
        "properties": {
          "updates": {
            "items": {
              "$ref": "#/components/schemas/BatchUserUpdate"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 1,
            "title": "Updates"
          }
        },
        "type": "object",
        "required": [
          "updates"
        ],
        "title": "BatchUserUpdateRequest"
      },
      "ConnectionTestResult": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "api_url": {
            "type": "string",
            "title": "Api Url"
          },
          "response_time_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Response Time Ms"
          },
          "interfaces": {
            "anyOf": [
              {
                "items": {},
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Interfaces"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message",
          "api_url"
        ],
        "title": "ConnectionTestResult",
        "description": "Connection test result."
      },
      "CoreConfigModel": {
        "properties": {
          "api_url": {
            "type": "string",
            "title": "Api Url"
          },
          "api_key": {
            "type": "string",
            "title": "Api Key"
          }
        },
        "type": "object",
        "required": [
          "api_url",
          "api_key"
        ],
        "title": "CoreConfigModel",
        "description": "Core Service configuration model."
      },
      "CoreConfigResponse": {
        "properties": {
          "api_url": {
            "type": "string",
            "title": "Api Url"
          },
          "api_key_masked": {
            "type": "string",
            "title": "Api Key Masked"
          },
          "is_configured": {
            "type": "boolean",
            "title": "Is Configured"
          }
        },
        "type": "object",
        "required": [
          "api_url",
          "api_key_masked",
          "is_configured"
        ],
        "title": "CoreConfigResponse",
        "description": "Core Service configuration response."
      },
      "DashboardStats": {
        "properties": {
          "cpu_usage": {
            "type": "number",
            "title": "Cpu Usage"
          },
          "memory_usage": {
            "type": "number",
            "title": "Memory Usage"
          },
          "total_memory": {
            "type": "integer",
            "title": "Total Memory"
          },
          "used_memory": {
            "type": "integer",
            "title": "Used Memory"
          },
          "bandwidth_up": {
            "type": "integer",
            "title": "Bandwidth Up"
          },
          "bandwidth_down": {
            "type": "integer",
            "title": "Bandwidth Down"
          },
          "online_users": {
            "type": "integer",
            "title": "Online Users"
          },
          "total_users": {
            "type": "integer",
            "title": "Total Users"
          },
          "system_version": {
            "type": "string",
            "title": "System Version"
          },
          "uptime": {
            "type": "string",
            "title": "Uptime"
          }
        },
        "type": "object",
        "required": [
          "cpu_usage",
          "memory_usage",
          "total_memory",
          "used_memory",
          "bandwidth_up",
          "bandwidth_down",
          "online_users",
          "total_users",
          "system_version",
          "uptime"
        ],
        "title": "DashboardStats"
      },
      "GameInventory": {
        "properties": {
          "rule_id": {
            "type": "integer",
            "title": "Rule Id"
          },
          "rule_name": {
            "type": "string",
            "title": "Rule Name"
          },
          "total_ips": {
            "type": "integer",
            "title": "Total Ips"
          },
          "available_ips": {
            "type": "integer",
            "title": "Available Ips"
          },
          "used_ips": {
            "type": "integer",
            "title": "Used Ips"
          }
        },
        "type": "object",
        "required": [
          "rule_id",
          "rule_name",
          "total_ips",
          "available_ips",
          "used_ips"
        ],
        "title": "GameInventory",
        "description": "Inventory information for a game (rule)"
      },
      "GameInventoryResponse": {
        "properties": {
          "games": {
            "items": {
              "$ref": "#/components/schemas/GameInventory"
            },
            "type": "array",
            "title": "Games"
          },
          "total_outbounds": {
            "type": "integer",
            "title": "Total Outbounds"
          }
        },
        "type": "object",
        "required": [
          "games",
          "total_outbounds"
        ],
        "title": "GameInventoryResponse",
        "description": "Response with all game inventories"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "LoginRequest": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "LoginRequest"
      },
      "OutboundCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "protocol": {
            "type": "string",
            "title": "Protocol",
            "default": "direct"
          },
          "local_interface_ip": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Local Interface Ip"
          },
          "remark": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Remark"
          },
          "max_users": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Max Users",
            "default": 10
          },
          "config": {
            "type": "object",
            "title": "Config"
          },
          "is_auto_generated": {
            "type": "boolean",
            "title": "Is Auto Generated",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "OutboundCreate"
      },
      "OutboundResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "protocol": {
            "type": "string",
            "title": "Protocol",
            "default": "direct"
          },
          "local_interface_ip": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Local Interface Ip"
          },
          "remark": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Remark"
          },
          "max_users": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Max Users",
            "default": 10
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "config": {
            "type": "object",
            "title": "Config"
          },
          "is_auto_generated": {
            "type": "boolean",
            "title": "Is Auto Generated"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "name",
          "id",
          "config",
          "is_auto_generated",
          "created_at",
          "updated_at"
        ],
        "title": "OutboundResponse"
      },
      "OutboundUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "protocol": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Protocol"
          },
          "config": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config"
          },
          "local_interface_ip": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Local Interface Ip"
          },
          "remark": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Remark"
          },
          "max_users": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Users"
          }
        },
        "type": "object",
        "title": "OutboundUpdate"
      },
      "RuleCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "content": {
            "type": "string",
            "minLength": 1,
            "title": "Content"
          },
          "priority": {
            "type": "integer",
            "title": "Priority",
            "default": 0
          },
          "remark": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Remark"
          }
        },
        "type": "object",
        "required": [
          "name",
          "content"
        ],
        "title": "RuleCreate"
      },
      "RuleResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "content": {
            "type": "string",
            "minLength": 1,
            "title": "Content"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "priority": {
            "type": "integer",
            "title": "Priority"
          },
          "remark": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Remark"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "name",
          "content",
          "id",
          "priority",
          "created_at",
          "updated_at"
        ],
        "title": "RuleResponse"
      },
      "RuleUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content"
          },
          "priority": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Priority"
          },
          "remark": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Remark"
          }
        },
        "type": "object",
        "title": "RuleUpdate"
      },
      "SuccessResponse": {
        "properties": {
          "code": {
            "type": "integer",
            "title": "Code",
            "default": 200
          },
          "message": {
            "type": "string",
            "title": "Message",
            "default": "success"
          },
          "data": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data"
          }
        },
        "type": "object",
        "title": "SuccessResponse"
      },
      "SystemSettingsResponse": {
        "properties": {
          "default_protocol": {
            "type": "string",
            "title": "Default Protocol",
            "default": "socks5"
          },
          "default_expiration_days": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Default Expiration Days",
            "default": 30
          },
          "default_max_send_byte": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Default Max Send Byte",
            "default": 0
          },
          "default_max_receive_byte": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Default Max Receive Byte",
            "default": 0
          },
          "default_send_limit": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Default Send Limit",
            "default": 0
          },
          "default_receive_limit": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Default Receive Limit",
            "default": 0
          },
          "default_max_conn_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Default Max Conn Count",
            "default": 0
          },
          "username_pattern": {
            "type": "string",
            "title": "Username Pattern",
            "default": "LLL###"
          },
          "password_pattern": {
            "type": "string",
            "title": "Password Pattern",
            "default": "LLL###"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "SystemSettingsResponse"
      },
      "SystemSettingsUpdate": {
        "properties": {
          "default_protocol": {
            "type": "string",
            "title": "Default Protocol",
            "default": "socks5"
          },
          "default_expiration_days": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Default Expiration Days",
            "default": 30
          },
          "default_max_send_byte": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Default Max Send Byte",
            "default": 0
          },
          "default_max_receive_byte": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Default Max Receive Byte",
            "default": 0
          },
          "default_send_limit": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Default Send Limit",
            "default": 0
          },
          "default_receive_limit": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Default Receive Limit",
            "default": 0
          },
          "default_max_conn_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Default Max Conn Count",
            "default": 0
          },
          "username_pattern": {
            "type": "string",
            "title": "Username Pattern",
            "default": "LLL###"
          },
          "password_pattern": {
            "type": "string",
            "title": "Password Pattern",
            "default": "LLL###"
          }
        },
        "type": "object",
        "title": "SystemSettingsUpdate"
      },
      "Token": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "bearer"
          }
        },
        "type": "object",
        "required": [
          "access_token"
        ],
        "title": "Token"
      },
      "UserCreate": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Username"
          },
          "port": {
            "type": "integer",
            "maximum": 65535.0,
            "minimum": 1.0,
            "title": "Port"
          },
          "protocol": {
            "type": "string",
            "title": "Protocol",
            "default": "socks5"
          },
          "password": {
            "type": "string",
            "minLength": 1,
            "title": "Password"
          },
          "total_traffic": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Traffic",
            "default": 0
          },
          "expire_time": {
            "type": "string",
            "format": "date-time",
            "title": "Expire Time"
          },
          "enable": {
            "type": "boolean",
            "title": "Enable",
            "default": true
          },
          "send_limit": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Send Limit",
            "default": 0
          },
          "receive_limit": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Receive Limit",
            "default": 0
          },
          "max_conn_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Max Conn Count",
            "default": 0
          },
          "outbound_id": {
            "type": "integer",
            "title": "Outbound Id"
          },
          "rule_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Rule Ids"
          },
          "config": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config"
          },
          "remark": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Remark"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          }
        },
        "type": "object",
        "required": [
          "username",
          "port",
          "password",
          "expire_time",
          "outbound_id"
        ],
        "title": "UserCreate"
      },
      "UserProvisionRequest": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Username"
          },
          "password": {
            "type": "string",
            "minLength": 1,
            "title": "Password"
          },
          "port": {
            "type": "integer",
            "maximum": 65535.0,
            "minimum": 1.0,
            "title": "Port"
          },
          "protocol": {
            "type": "string",
            "title": "Protocol",
            "default": "socks5"
          },
          "expire_days": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Expire Days",
            "default": 30
          },
          "total_traffic_gb": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Traffic Gb",
            "default": 0
          },
          "outbound_id": {
            "type": "integer",
            "title": "Outbound Id"
          },
          "rule_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Rule Ids"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "remark": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Remark"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password",
          "port",
          "outbound_id"
        ],
        "title": "UserProvisionRequest",
        "description": "Request to provision a user from external system"
      },
      "UserRenewalRequest": {
        "properties": {
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "extend_days": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Extend Days"
          },
          "add_traffic_gb": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Add Traffic Gb",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "extend_days"
        ],
        "title": "UserRenewalRequest",
        "description": "Request to renew a user from external system"
      },
      "UserResponse": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Username"
          },
          "port": {
            "type": "integer",
            "maximum": 65535.0,
            "minimum": 1.0,
            "title": "Port"
          },
          "protocol": {
            "type": "string",
            "title": "Protocol",
            "default": "socks5"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "password": {
            "type": "string",
            "title": "Password"
          },
          "total_traffic": {
            "type": "integer",
            "title": "Total Traffic"
          },
          "up_traffic": {
            "type": "integer",
            "title": "Up Traffic"
          },
          "down_traffic": {
            "type": "integer",
            "title": "Down Traffic"
          },
          "expire_time": {
            "type": "string",
            "format": "date-time",
            "title": "Expire Time"
          },
          "last_seen": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Seen"
          },
          "enable": {
            "type": "boolean",
            "title": "Enable"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "send_limit": {
            "type": "integer",
            "title": "Send Limit"
          },
          "receive_limit": {
            "type": "integer",
            "title": "Receive Limit"
          },
          "max_conn_count": {
            "type": "integer",
            "title": "Max Conn Count"
          },
          "outbound_id": {
            "type": "integer",
            "title": "Outbound Id"
          },
          "config": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config"
          },
          "remark": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Remark"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "outbound": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/OutboundResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "rules": {
            "items": {
              "$ref": "#/components/schemas/RuleResponse"
            },
            "type": "array",
            "title": "Rules"
          }
        },
        "type": "object",
        "required": [
          "username",
          "port",
          "id",
          "password",
          "total_traffic",
          "up_traffic",
          "down_traffic",
          "expire_time",
          "enable",
          "status",
          "send_limit",
          "receive_limit",
          "max_conn_count",
          "outbound_id",
          "created_at",
          "updated_at"
        ],
        "title": "UserResponse"
      },
      "UserUpdate": {
        "properties": {
          "username": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Username"
          },
          "password": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Password"
          },
          "port": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 65535.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Port"
          },
          "protocol": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Protocol"
          },
          "total_traffic": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Traffic"
          },
          "expire_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expire Time"
          },
          "enable": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enable"
          },
          "send_limit": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Send Limit"
          },
          "receive_limit": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Receive Limit"
          },
          "max_conn_count": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Conn Count"
          },
          "outbound_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Outbound Id"
          },
          "rule_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rule Ids"
          },
          "config": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config"
          },
          "remark": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Remark"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          }
        },
        "type": "object",
        "title": "UserUpdate"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "WebhookPayload": {
        "properties": {
          "event": {
            "type": "string",
            "title": "Event"
          },
          "data": {
            "type": "object",
            "title": "Data"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "event",
          "data"
        ],
        "title": "WebhookPayload",
        "description": "Generic webhook payload"
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      },
      "APIKeyHeader": {
        "type": "apiKey",
        "in": "header",
        "name": "X-API-Key"
      }
    }
  }
}
